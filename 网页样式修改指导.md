# BlackPulse 网页样式修改指导文档

## 📋 概述

本文档基于应用设计规范《应用修改意见.md》和现有代码结构。

---

## 🎨 设计规范总结

### 核心特征
- **仅夜间模式**（Dark Mode Only）：深黑/近黑背景
- **扁平化设计**（Flat Design）：清晰的二维块面、线条与色彩
- **科技感**：冷色系高亮点缀 + 规整网格 + 强对比信息层级
- **微交互**：短、轻、明确反馈的动画
- **响应式**：桌面端两栏结构 + 移动端单栏流

### 色彩方案
| 用途 | 颜色 | 用途详情 |
|------|------|---------|
| 主背景 | 近黑 | 避免纯黑大面积糊在一起 |
| 内容容器 | 深灰 | 区分层级 |
| 强调色 | 黄金色 | 链接、选中态、CTA |
| 危险/警告 | 高对比红 | 删除等操作 |
| 文字 | 浅灰 | 主文字 |
| 次文字 | 深灰 | 元信息、时间等 |

### 布局规则
- **桌面端**（≥1024px）：左侧栏（筛选/标签/公告）+ 主栏（留言流）
- **移动端**（≤768px）：单栏信息流 + 顶部工具区
- **分页**：保持 5 条消息分页设计

---

## 📁 项目文件结构及修改范围

### 关键文件
```
D:\Code\AnonymousMessageBoard\
├── tailwind.config.js          ← 修改：扩展配色系统
├── src/
│   └── input.css               ← 修改：添加新的样式层
├── public/
│   └── style.css               ← 自动生成（由 Tailwind 编译）
│   └── js/
│       ├── main.js             ← 涉及：事件处理、状态管理
│       ├── ui-elements.js      ← 修改：DOM 元素类名更新
│       ├── main-rendering-function.js  ← 修改：消息卡片渲染逻辑
│       ├── comment-element.js  ← 修改：评论卡片样式
│       ├── pagination.js       ← 修改：分页样式
│       └── (其他模块)          ← 按需调整样式类
└── views/
    └── index.ejs               ← 修改：HTML 结构 + Tailwind 类
```

---

## 🎯 修改步骤详解

### 第 1 步：更新 Tailwind 配置

**文件：`tailwind.config.js`**

**目标**：扩展色彩系统，引入 BlackPulse 色板

**修改说明**：
- 添加完整的 BlackPulse 色系变量
- 建立统一的间距、圆角、阴影系统
- 为微交互预留过渡时间定义

---

### 第 2 步：更新 CSS 输入文件

**文件：`src/input.css`**

**目标**：添加 BlackPulse 样式组件和动画

**修改说明**：
- 定义所有 BlackPulse 组件类（按钮、输入框、卡片等）
- 添加微交互动画（按下、脉冲、滑入等）
- 建立统一的过渡时间和缓动函数

---

### 第 3 步：更新 HTML 模板结构

**文件：`views/index.ejs`**

**目标**：更新页面布局为两栏结构（桌面端）+ 顶部栏重设计

#### 3.1 页面头部修改

#### 3.2 主容器布局修改（两栏结构）

#### 3.3 消息表单修改

---

### 第 4 步：更新消息卡片渲染

**文件：`public/js/main-rendering-function.js`**

**目标**：使用新的 BlackPulse 样式类渲染消息卡片

---

### 第 5 步：更新评论卡片渲染

**文件：`public/js/comment-element.js`**

**目标**：重设计评论卡片样式

---

### 第 6 步：更新分页控件样式

**文件：`public/js/pagination.js`**

**目标**：重新设计分页 UI（Google 风格 + BlackPulse 样式）

---

### 第 7 步：更新 DOM 元素映射

**文件：`public/js/ui-elements.js`**

**目标**：确保所有 Tailwind 类已更新

---

### 第 8 步：响应式设计调整

**文件：`views/index.ejs` 和 CSS**

**目标**：确保移动端和桌面端都有良好的展现

#### 移动端 TOP BAR 折叠逻辑

---

### 第 9 步：测试清单

在完成所有代码修改后，需要进行以下测试：

#### 视觉测试
- [ ] **颜色验证**：背景、文字、强调色是否按照 BlackPulse 规范
- [ ] **布局验证**：桌面端两栏结构 / 移动端单栏流是否正确
- [ ] **卡片样式**：消息卡片、评论卡片、芯片等样式是否一致

#### 交互测试
- [ ] **按钮微交互**：按下缩放、悬停发光是否流畅
- [ ] **输入框交互**：聚焦时描边高亮是否明显
- [ ] **点赞动画**：点赞/收藏动画是否有反馈
- [ ] **加载动画**：消息加载时骨架屏是否展示

#### 响应式测试
- [ ] **桌面端**（≥1024px）：两栏布局、全局搜索显示
- [ ] **平板端**（768-1024px）：布局过渡、导航收纳
- [ ] **手机端**（≤768px）：单栏流、筛选抽屉、顶部栏紧凑

#### 功能测试
- [ ] **发布消息**：新建、编辑、删除正常
- [ ] **评论系统**：发布、回复、投票、删除正常
- [ ] **分页**：翻页、页码显示正确
- [ ] **搜索/筛选**：功能是否可用

---

## 📝 分阶段实施建议

### 阶段 1：基础配置（1-2 小时）
1. 更新 `tailwind.config.js`（新增色系）
2. 更新 `src/input.css`（新增组件类 + 动画）
3. 验证编译：运行 Docker 构建

### 阶段 2：模板重构（2-3 小时）
1. 更新 `views/index.ejs`：
   - Header 重设计（sticky、搜索、发布 CTA）
   - 两栏布局结构
   - 消息表单调整
2. 更新 DOM 元素映射 (`ui-elements.js`)

### 阶段 3：渲染逻辑更新（2-3 小时）
1. 更新消息卡片渲染 (`main-rendering-function.js`)
2. 更新评论卡片渲染 (`comment-element.js`)
3. 更新分页样式 (`pagination.js`)

### 阶段 4：响应式与交互（1-2 小时）
1. 移动端筛选抽屉
2. 微交互事件绑定
3. 响应式布局测试

### 阶段 5：测试与优化（1-2 小时）
1. 全面功能测试
2. 浏览器兼容性测试
3. 性能优化（动画帧率、加载速度等）

**总预期时间：8-12 小时**